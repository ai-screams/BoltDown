@tailwind base;
@tailwind components;
@tailwind utilities;

/* BoltDown Custom Styles */

@layer base {
  /* Font Faces */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap');

  /* Root Variables */
  :root {
    /* BoltDown Brand Colors */
    --color-electric-yellow: #facc15;
    --color-electric-dark: #ca8a04;
    --color-deep-blue: #1e3a8a;
    --color-thunder-gray: #64748b;
    --color-volt-orange: #f97316;
    --color-ion-purple: #7c3aed;
    --color-charge-green: #10b981;

    /* Spacing */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
  }

  /* Dark Mode */
  .dark {
    color-scheme: dark;
  }

  /* Base Styles */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Inter', 'Pretendard', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  code,
  pre {
    font-family: 'JetBrains Mono', 'Fira Code', Consolas, Monaco, monospace;
  }
}

/* Prose Styling (Markdown Preview) */
@layer components {
  .prose {
    @apply text-gray-900 dark:text-gray-100;
  }

  .prose h1 {
    @apply mb-4 text-4xl font-bold text-gray-900 dark:text-white;
  }

  .prose h2 {
    @apply mb-3 mt-8 text-3xl font-bold text-gray-900 dark:text-white;
  }

  .prose h3 {
    @apply mb-2 mt-6 text-2xl font-semibold text-gray-900 dark:text-white;
  }

  .prose p {
    @apply mb-4 leading-relaxed;
  }

  .prose code {
    @apply rounded bg-gray-100 px-1.5 py-0.5 text-sm dark:bg-gray-800;
  }

  .prose pre {
    @apply mb-4 overflow-x-auto rounded-lg bg-gray-100 p-4 dark:bg-gray-800;
  }

  .prose a {
    @apply text-deep-blue underline hover:text-electric-dark dark:text-electric-yellow dark:hover:text-yellow-300;
  }

  .prose blockquote {
    @apply border-l-4 border-electric-yellow pl-4 italic text-gray-600 dark:text-gray-400;
  }
}

/* Prism.js Syntax Highlighting */
@layer components {
  .prose pre {
    @apply relative;
  }

  .prose pre code {
    @apply bg-transparent p-0 text-sm;
  }

  /* Token colors (Tomorrow Night inspired) */
  .token.comment,
  .token.prolog,
  .token.doctype,
  .token.cdata {
    color: #6a737d;
  }
  .token.punctuation {
    color: #e1e4e8;
  }
  .token.property,
  .token.tag,
  .token.boolean,
  .token.number,
  .token.constant,
  .token.symbol,
  .token.deleted {
    color: #f97583;
  }
  .token.selector,
  .token.attr-name,
  .token.string,
  .token.char,
  .token.builtin,
  .token.inserted {
    color: #9ecbff;
  }
  .token.operator,
  .token.entity,
  .token.url {
    color: #79b8ff;
  }
  .token.atrule,
  .token.attr-value,
  .token.keyword {
    color: #b392f0;
  }
  .token.function,
  .token.class-name {
    color: #e1e4e8;
  }
  .token.regex,
  .token.important,
  .token.variable {
    color: #ffab70;
  }

  /* Light theme token overrides */
  :root .token.comment,
  :root .token.prolog,
  :root .token.doctype,
  :root .token.cdata {
    color: #6a737d;
  }
  :root .token.punctuation {
    color: #24292e;
  }
  :root .token.property,
  :root .token.tag,
  :root .token.boolean,
  :root .token.number,
  :root .token.constant,
  :root .token.symbol,
  :root .token.deleted {
    color: #d73a49;
  }
  :root .token.selector,
  :root .token.attr-name,
  :root .token.string,
  :root .token.char,
  :root .token.builtin,
  :root .token.inserted {
    color: #032f62;
  }
  :root .token.operator,
  :root .token.entity,
  :root .token.url {
    color: #005cc5;
  }
  :root .token.atrule,
  :root .token.attr-value,
  :root .token.keyword {
    color: #6f42c1;
  }
  :root .token.function,
  :root .token.class-name {
    color: #6f42c1;
  }
  :root .token.regex,
  :root .token.important,
  :root .token.variable {
    color: #e36209;
  }

  /* Dark theme token overrides */
  .dark .token.punctuation {
    color: #e1e4e8;
  }
  .dark .token.function,
  .dark .token.class-name {
    color: #e1e4e8;
  }
}

/* Prose extras */
@layer components {
  .prose ul {
    @apply mb-4 list-disc pl-6;
  }

  .prose ol {
    @apply mb-4 list-decimal pl-6;
  }

  .prose li {
    @apply mb-1;
  }

  .prose hr {
    @apply my-6 border-gray-200 dark:border-gray-700;
  }

  .prose table {
    @apply mb-4 w-full border-collapse;
  }

  .prose th {
    @apply border border-gray-300 bg-gray-50 px-3 py-2 text-left font-semibold dark:border-gray-600 dark:bg-gray-800;
  }

  .prose td {
    @apply border border-gray-300 px-3 py-2 dark:border-gray-600;
  }

  .prose img {
    @apply my-4 max-w-full rounded;
  }

  .katex-block {
    @apply my-4 overflow-x-auto text-center;
  }

  .mermaid-rendered {
    @apply my-4 flex justify-center;
  }

  .mermaid-rendered svg {
    @apply max-w-full;
  }

  .prose strong {
    @apply font-bold;
  }

  .prose em {
    @apply italic;
  }
}

/* Custom Scrollbar */
@layer base {
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }

  .dark ::-webkit-scrollbar-thumb {
    background: #475569;
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    background: #64748b;
  }
}

/* CodeMirror full-height fix */
@layer components {
  .cm-editor {
    height: 100% !important;
  }

  .cm-scroller {
    overflow: auto !important;
  }
}

/* Animations */
@layer utilities {
  .animate-bolt {
    animation: bolt 0.3s ease-in-out;
  }

  @keyframes bolt {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-4px);
    }
  }

  .animate-dropdown {
    animation: dropdown 0.15s ease-out;
  }

  @keyframes dropdown {
    from {
      opacity: 0;
      transform: translateY(-4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* Print Styles */
@media print {
  header,
  footer,
  .cm-editor,
  .cm-gutters {
    display: none !important;
  }

  main {
    display: block !important;
  }

  .prose {
    max-width: 100% !important;
    padding: 0 !important;
  }
}
